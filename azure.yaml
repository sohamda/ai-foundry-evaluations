# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: ai-foundry-evaluations
metadata:
  template: ai-foundry-evaluations@0.0.1-beta

infra:
  provider: bicep
  path: infra

hooks:
  postdeploy:
    windows:
      shell: pwsh
      continueOnError: false
      run: |
        Write-Host "ðŸŽ‰ Azure AI Foundry project deployment completed successfully!" -ForegroundColor Green
        Write-Host ""
        Write-Host "ðŸ¤– Your AI agent project is ready!" -ForegroundColor Yellow
        Write-Host ""
        Write-Host "ðŸ“‹ Next Steps:" -ForegroundColor Yellow
        Write-Host "1. Visit Azure AI Foundry Studio: https://ai.azure.com" -ForegroundColor White
        Write-Host "2. Find your project and start building AI agents" -ForegroundColor White
        Write-Host "3. Use the pre-configured GPT-4o model for your agents" -ForegroundColor White
        Write-Host ""
        Write-Host "ðŸ”— Resource Links:" -ForegroundColor Yellow
        $outputs = azd env get-values --output json | ConvertFrom-Json
        if ($outputs.AZURE_AI_PROJECT_NAME) {
          Write-Host "â€¢ AI Project: $($outputs.AZURE_AI_PROJECT_NAME)" -ForegroundColor White
        }
        if ($outputs.AZURE_COGNITIVE_SERVICES_ENDPOINT) {
          Write-Host "â€¢ Cognitive Services: $($outputs.AZURE_COGNITIVE_SERVICES_ENDPOINT)" -ForegroundColor White
        }
        Write-Host ""
    posix:
      shell: sh
      continueOnError: false
      run: |
        echo "ðŸŽ‰ Azure AI Foundry project deployment completed successfully!"
        echo ""
        echo "ðŸ¤– Your AI agent project is ready!"
        echo ""
        echo "ðŸ“‹ Next Steps:"
        echo "1. Visit Azure AI Foundry Studio: https://ai.azure.com"
        echo "2. Find your project and start building AI agents"
        echo "3. Use the pre-configured GPT-4o model for your agents"
        echo ""
        echo "ðŸ”— Resource Links:"
        outputs=$(azd env get-values --output json)
        if [ -n "$outputs" ]; then
          ai_project=$(echo "$outputs" | jq -r '.AZURE_AI_PROJECT_NAME // empty')
          cognitive_endpoint=$(echo "$outputs" | jq -r '.AZURE_COGNITIVE_SERVICES_ENDPOINT // empty')
          
          [ -n "$ai_project" ] && echo "â€¢ AI Project: $ai_project"
          [ -n "$cognitive_endpoint" ] && echo "â€¢ Cognitive Services: $cognitive_endpoint"
        fi
        echo ""